import numpy as np

# ìƒˆë¡œìš´ íƒœê·¸ ëª©ë¡ (tags2 ê¸°ë°˜)
tags = ['ë°ì´íŠ¸', 'í˜¼ë°¥', 'ê°€ì¡±ì‹ì‚¬', 'ë…¸í¬', 'ì£¼ì ', 'ì–‘ì‹', 'ì¼ì‹', 'ì¤‘ì‹', 'ë¶„ì‹', 'í•œì‹', 
        'ê¸°íƒ€', 'ì£¼ì°¨', 'ì•„ë™í¸ì˜ì‹œì„¤', 'ì‹ ì‹', 'ê·œëª¨', 'ì˜ˆì•½ì—¬ë¶€', 'ì›¨ì´íŒ…', 'ë§¤ìš´ì •ë„', 'ê°€ì„±ë¹„']

# ì§ˆë¬¸ë³„ ê´€ë ¨ íƒœê·¸ ë§¤í•‘ (ì„ íƒì§€ ê°œë³„ ë°˜ì˜)
question_tag_map = {
    1: {"ì–‘ì‹": 0, "ì¤‘ì‹": 0, "ì¼ì‹": 0, "ë¶„ì‹": 0, "í•œì‹": 0},  
    2: {"ë°ì´íŠ¸": 1, "í˜¼ë°¥": 1, "ê°€ì¡±ì‹ì‚¬": 1, "ì£¼ì ": 1},
    3: {"ë…¸í¬": 1, "ì‹ ì‹/ë…¸í¬": 1, "ê·œëª¨": 1, "ê°€ì„±ë¹„": 1},
    4: {"ì£¼ì°¨": 1, "ì˜ˆì•½ì—¬ë¶€": 1, "ì›¨ì´íŒ…": 1},
    5: {"ë§¤ìš´ì •ë„": 1, "ê°€ì„±ë¹„": 1},
    6: {"ì•„ë™í¸ì˜ì‹œì„¤": 1, "ê°€ì¡±ì‹ì‚¬": 1},
}

# ì‚¬ìš©ì ì‘ë‹µ ì €ì¥ ë”•ì…”ë„ˆë¦¬
user_responses = {}

# ì§ˆë¬¸ ëª©ë¡ (ì„ íƒì§€ í¬í•¨)
questions = {
    1: "ğŸ½ï¸ ì„ í˜¸í•˜ëŠ” ìŒì‹ ì¢…ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.\n   (0: ê´€ì‹¬ ì—†ìŒ ~ 5: ë§¤ìš° ì„ í˜¸)\n   ì–‘ì‹(ğŸ•), ì¤‘ì‹(ğŸ¥¡), ì¼ì‹(ğŸ£), ë¶„ì‹(ğŸœ), í•œì‹(ğŸš)",
    2: "ğŸ‘¥ ë³´í†µ ëˆ„êµ¬ì™€ ì‹ì‚¬í•˜ì‹œë‚˜ìš”?\n   â‘  ë°ì´íŠ¸ ğŸ’‘ â‘¡ í˜¼ë°¥ ğŸ½ï¸ â‘¢ ê°€ì¡± ì‹ì‚¬ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ â‘£ ìˆ ìë¦¬(ì£¼ì ) ğŸ» (0~5 ì…ë ¥)",
    3: "ğŸšï¸ ì‹ ì‹ê³¼ ë…¸í¬ ì¤‘ ì–´ëŠ ìª½ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”? (0: ì‹ ê²½ ì•ˆ ì”€ ~ 5: ë§¤ìš° ì¤‘ìš”)",
    4: "ğŸš— ì£¼ì°¨, ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€, ì›¨ì´íŒ…ì„ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”? (0: ìƒê´€ì—†ìŒ ~ 5: ë§¤ìš° ì¤‘ìš”)",
    5: "ğŸŒ¶ï¸ ë§¤ìš´ ìŒì‹ì„ ì–¼ë§ˆë‚˜ ì¢‹ì•„í•˜ì‹œë‚˜ìš”? (0: ì•ˆ ì¢‹ì•„í•¨ ~ 5: ë§¤ìš° ì¢‹ì•„í•¨)",
    6: "ğŸ§¸ ì–´ë¦°ì´ í¸ì˜ì‹œì„¤ì´ ìˆëŠ” ê³³ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”? (0: í•„ìš” ì—†ìŒ ~ 5: ë§¤ìš° ì¤‘ìš”)"
}

# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸° (0~5ì  ì‚¬ì´, ì˜ˆì™¸ì²˜ë¦¬ í¬í•¨)
for q_num, question in questions.items():
    if q_num == 1 or q_num == 2:  # ì—¬ëŸ¬ ê°œ ì„ íƒí•˜ëŠ” ì§ˆë¬¸
        print(question)
        for tag in question_tag_map[q_num]:
            while True:
                try:
                    user_input = input(f"   {tag}: ").strip()
                    score = int(user_input) if user_input else 0
                    if score < 0 or score > 5:
                        raise ValueError
                    question_tag_map[q_num][tag] = score  # ê°œë³„ ê°€ì¤‘ì¹˜ ì ìš©
                    break
                except ValueError:
                    print("âš ï¸ 0ì—ì„œ 5 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!")
    else:
        while True:
            try:
                user_input = input(f"{question} (0~5, Enter ì…ë ¥ ì‹œ ê¸°ë³¸ê°’ 0): ").strip()
                score = int(user_input) if user_input else 0
                if score < 0 or score > 5:
                    raise ValueError
                user_responses[q_num] = score
                break
            except ValueError:
                print("âš ï¸ 0ì—ì„œ 5 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!")

# íƒœê·¸ë³„ ê°€ì¤‘ì¹˜ ê³„ì‚°
tag_weights = {tag: 0 for tag in tags}

# ì¼ë°˜ ì§ˆë¬¸ ë°˜ì˜ (0~1ë¡œ ì •ê·œí™”)
max_score = 5
for question, score in user_responses.items():
    normalized_score = score / max_score
    for tag in question_tag_map[question]:
        tag_weights[tag] += normalized_score

# ì„ íƒì§€ ê°œë³„ ë°˜ì˜ ì§ˆë¬¸ (ì§ˆë¬¸ 1, 2ë²ˆ)
for q_num in [1, 2]:
    for tag, score in question_tag_map[q_num].items():
        tag_weights[tag] += score / max_score  # 0~1 ì •ê·œí™”

# ì •ê·œí™”ëœ íƒœê·¸ ê°€ì¤‘ì¹˜ ì¶œë ¥
print("\nğŸ“Œ ì‚¬ìš©ì ì„ í˜¸ë„ ê¸°ë°˜ íƒœê·¸ ê°€ì¤‘ì¹˜:")
for tag, weight in tag_weights.items():
    print(f"{tag}: {weight:.2f}")
